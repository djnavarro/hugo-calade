---
output: hugodown::md_document
title: "Tutorial part 2: Customising posts"
author: "Danielle Navarro"
date: "2020-06-08"
slug: customising-posts
tags: ["tutorial"]
summary: "In general I want to use a consistent palette and header across a site, but there are occasions where I might want a single page to use a different style. I donâ€™t want to have to edit with low level settings to do that. In the second part of the tutorial I discuss this kind of customisation."
colorPage: "#eeeeee"
colorText: "#111111"
colorFade: "#999999"
colorAccent1: "#0000dd"
colorAccent2: "#8a2be2"
header:
  caption: "A customised header"
  image: 'header/custom_banner.png'
  profile: 'header/custom_profile.png'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)
thematic::thematic_off()
library(tidyverse)
```


The slum theme for Hugo allows some degree of flexibility in visual styling, which is really nice when blogging. Most of the time I want my blog to use a consistent palette, but then there are occasions where I might want a single page to use a different colour scheme, and I don't want to have to fiddle with low level settings to do that. A slum page is defined by five colours that you can specify across the whole site within the `config.toml` file. For this site, the dark theme I have used is defined by the following lines:

```
colorPage = "#333333"    # background colour
colorText = "#dddddd"    # main text colour
colorFade = "#888888"    # faded text colour
colorAccent1 = "#ff69b4" # first accent colour ("highlight")
colorAccent2 = "#ba68c8" # second accent colour ("lowlight")
```

However, you can override the site defaults for an individual page by including the same parameters in the YAML header for your R markdown post. For example, in this post, the YAML header includes the following lines, which produces the lighter theme you see on the current page:

```
colorPage: "#eeeeee"
colorText: "#111111"
colorFade: "#999999"
colorAccent1: "#0000dd"
colorAccent2: "#8a2be2"
```

## Theme-consistent plots

One thing that has sometimes been a frustration with blogdown is that the content generated on the R side doesn't use the same visual style as the Hugo theme. To illustrate, suppose I wanted to generate a plot using ggplot2 like this:

```{r}
library(ggplot2)
ggplot(mpg, aes(displ, hwy)) + geom_point() 
```

This doesn't look *too* terrible but the white background is jarring. Although there are a few different ways this could be fixed, my preferred approach is to use the [thematic](https://github.com/rstudio/thematic/) package:

```{r, warning=FALSE, message=FALSE}
library(thematic)
thematic_on(bg = "#eeeeee")
ggplot(mpg, aes(displ, hwy)) + geom_point() 
```

## Custom headers and profiles

The slum theme allows you to customise the header at the top of each page, by modifying the yaml at the top of the post. There are three fields you can customise: `image` provides the path to the header image (relative to the `static/` folder), `caption` is the caption text shown floating over the bottom right of the header image, and the `profile` picture that appears in the middle of the header. All three are optional, and if those fields are not included, then no image (or text) will appear. The relevant lines in the yaml for this post are:

```
header:
  caption: "A customised header"
  image: 'header/custom_banner.png'
  profile: 'header/custom_profile.png'
```

The header image is scaled to fit but otherwise left as is. I have been using images that are 1600x400 pixels in size as the headers. The profile image is scaled to be 70% of the height of the header. 

It is important to note that the description above only pertains to posts and projects. For the home page and other automatically generated pages, no caption is included, and the image and profile are set within the `config.toml` file. Specifically, the following two lines underneath the `[params]` section are used to set the images for those pages:

```
siteHeader = "header/banner.png"
siteProfile = "header/profile.png"
```



