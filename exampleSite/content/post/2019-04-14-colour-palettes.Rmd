---
title: "Tutorial part 3: Colour palettes in slumdown"
author: "Danielle Navarro"
date: "2019-04-14"
slug: colour-palettes
tags: ["slum", "blogdown", "slumstyle"]
colourscheme: "css/palette_light.css"
header:
  caption: "A blank ggplot"
  image: 'header/theme_grey.png'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)
library(slumdown)
library(tidyverse)
```

The `slumdown` templates make it easy to customise the colour scheme for an individual post or page. For this blog, the default colour scheme is based on the *dark* palette. To see what palettes are available by default:


```{r, warning=FALSE, message=FALSE}
slum_listpalettes()
```

An palette is defined by a set of five colours:

```{r}
slum_getpalette("dark")
```

To use a different palette for a specific post, insert the following line into the YAML header for the post:

```
colourscheme: "css/palette_light.css"
```

By doing so we end up with a post that uses the *light* palette. Links are styled using the [highlight colour](https://example.com), code is styled with the lowlight colour, and so on. 

It is also possible to make the palette available as a `ggplot2` theme. This can be particularly useful for posts where the background colour is something non-standard. The `slumdown` package provides the function `theme_slum()` which allows you to create a plot like this: 


```{r scatter}
ggplot(mpg, aes(displ, hwy)) + 
  geom_point() + theme_slum("light")
```


## The CSS file

Under the hood, the palette is stored in a small CSS file. If you felt the need to do so, you could edit it manually. For example, the `static/css/colour_dark.css` file specifies the colour scheme like so:

```
/* dark colour scheme */
:root {
  --pagecolour: #333333;  /* dark grey */
  --maintext: #dddddd;    /* almost white */
  --faded: #888888;       /* light grey */
  --highlight: #ff69b4;   /* bright pink */
  --lowlight: #ba68c8;    /* purple */
}
```

However the `slumdown` package attempts to make your life a little easier by providing a helper function that will write this file for you. For example:

```{r}
slum_addpalette(
  name = "kunoichi", pagecolour = "#562457", 
  maintext = "#ffffff", faded = "#ba68c8", 
  highlight = "#ffa500", lowlight = "#bbbbbb",
  overwrite = TRUE)
```

Note that this function isn't flexible. It does no preprocessing or conversion of the colour input, and as such expects something that is understood by both R and CSS. Hex codes work fine, other things not so much.

One created we can use it in a plot, or even as the colour scheme in a new post.

```{r}
ggplot(mpg, aes(displ, hwy)) + 
  geom_point() + theme_slum("kunoichi")
```


